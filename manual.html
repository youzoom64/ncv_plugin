<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ニコニコ生放送 コメント表示システム - 完全マニュアル</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700;900&family=Fira+Code:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Noto Sans JP", sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 40px;
        margin-bottom: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(10px);
      }

      .header h1 {
        font-size: 3rem;
        font-weight: 900;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 10px;
      }

      .header .subtitle {
        font-size: 1.2rem;
        color: #666;
        font-weight: 300;
      }

      .section {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(10px);
      }

      .section h2 {
        font-size: 2rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 3px solid #3498db;
      }

      .section h3 {
        font-size: 1.4rem;
        font-weight: 700;
        color: #34495e;
        margin: 25px 0 15px 0;
        display: flex;
        align-items: center;
      }

      .section h3::before {
        content: "🔹";
        margin-right: 10px;
      }

      .code-block {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        font-family: "Fira Code", monospace;
        font-size: 0.9rem;
        margin: 15px 0;
        overflow-x: auto;
        position: relative;
      }

      .code-block::before {
        content: "💻";
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 1.2rem;
      }

      .command {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        padding: 8px 15px;
        border-radius: 20px;
        font-family: "Fira Code", monospace;
        font-weight: 500;
        display: inline-block;
        margin: 5px;
        box-shadow: 0 4px 15px rgba(238, 90, 36, 0.3);
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .feature-card {
        background: linear-gradient(135deg, #74b9ff, #0984e3);
        color: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(116, 185, 255, 0.3);
        transition: transform 0.3s ease;
      }

      .feature-card:hover {
        transform: translateY(-5px);
      }

      .feature-card h4 {
        font-size: 1.3rem;
        font-weight: 700;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
      }

      .feature-card h4::before {
        content: "⚡";
        margin-right: 10px;
        font-size: 1.5rem;
      }

      .settings-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .settings-table th {
        background: linear-gradient(45deg, #6c5ce7, #a29bfe);
        color: white;
        padding: 15px;
        text-align: left;
        font-weight: 700;
      }

      .settings-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #eee;
      }

      .settings-table tr:hover {
        background: #f8f9fa;
      }

      .warning {
        background: linear-gradient(45deg, #fdcb6e, #e17055);
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        box-shadow: 0 5px 15px rgba(253, 203, 110, 0.3);
      }

      .warning::before {
        content: "⚠️ ";
        font-size: 1.2rem;
      }

      .success {
        background: linear-gradient(45deg, #00b894, #55a3ff);
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        box-shadow: 0 5px 15px rgba(0, 184, 148, 0.3);
      }

      .success::before {
        content: "✅ ";
        font-size: 1.2rem;
      }

      .step-number {
        display: inline-block;
        width: 30px;
        height: 30px;
        background: linear-gradient(45deg, #ff7675, #fd79a8);
        color: white;
        border-radius: 50%;
        text-align: center;
        line-height: 30px;
        font-weight: bold;
        margin-right: 10px;
      }

      .footer {
        text-align: center;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 30px;
        margin-top: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .footer p {
        color: #666;
        font-size: 1.1rem;
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 2rem;
        }

        .container {
          padding: 10px;
        }

        .section {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- ヘッダー -->
      <div class="header">
        <h1>🎮 ニコニコ生放送</h1>
        <h1>コメント表示システム</h1>
        <div class="subtitle">
          高機能リアルタイムコメント表示 & 音声読み上げシステム
        </div>
      </div>

      <!-- システム概要 -->
      <div class="section">
        <h2>🚀 システム概要</h2>
        <p>
          このシステムは、ニコニコ生放送のコメントをリアルタイムで美しく表示し、高品質な音声で読み上げるシステムです。
        </p>

        <div class="feature-grid">
          <div class="feature-card">
            <h4>リアルタイム表示</h4>
            <p>
              コメントが投稿されると即座に画面に表示され、右から左にスムーズにアニメーションします。
            </p>
          </div>
          <div class="feature-card">
            <h4>多彩なスキン</h4>
            <p>6〜10番のスキン画像を背景に表示。ユーザー個別設定も可能。</p>
          </div>
          <div class="feature-card">
            <h4>豊富なフォント</h4>
            <p>Google Fonts 20種類対応。各ユーザーの好みに合わせて表示。</p>
          </div>
          <div class="feature-card">
            <h4>VOICEVOX音声合成</h4>
            <p>
              高品質な音声でコメントを自動読み上げ。キャラクター別音声対応。
            </p>
          </div>
        </div>
      </div>

      <!-- 起動方法 -->
      <div class="section">
        <h2>⚡ 起動方法</h2>

        <h3>基本起動</h3>
        <div class="code-block">
          # メインシステム起動（推奨） start_gui_system.bat # または個別起動
          python main_gui.py
        </div>

        <div class="success">
          <strong>正常起動の確認方法:</strong><br />
          • WebSocketサーバーが localhost:8080 で起動<br />
          • ブラウザでコメント表示ページが自動で開く<br />
          • VOICEVOXエンジンに接続成功<br />
          • 音声システムが初期化完了
        </div>
      </div>

      <!-- コメント表示機能 -->
      <div class="section">
        <h2>💬 コメント表示機能</h2>

        <h3>アクセス方法</h3>
        <div class="code-block"># ブラウザでアクセス http://localhost:8080</div>

        <h3>表示設定</h3>
        <table class="settings-table">
          <thead>
            <tr>
              <th>項目</th>
              <th>設定</th>
              <th>説明</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>画面サイズ</strong></td>
              <td>512px × 100vh</td>
              <td>ニコ生配信画面にオーバーレイ表示</td>
            </tr>
            <tr>
              <td><strong>アニメーション</strong></td>
              <td>右→左スライド</td>
              <td>0.8秒でスムーズなイージング</td>
            </tr>
            <tr>
              <td><strong>最大表示数</strong></td>
              <td>20コメント</td>
              <td>古いコメントは自動削除</td>
            </tr>
            <tr>
              <td><strong>文字色</strong></td>
              <td>白色（運営は黄色）</td>
              <td>黒い影付きで視認性向上</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- ユーザー設定 -->
      <div class="section">
        <h2>👤 ユーザー設定システム</h2>

        <h3>設定可能項目</h3>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>音声設定</h4>
            <p>
              <span class="command">voice:2</span>
              形式でVOICEVOXキャラクター指定
            </p>
          </div>
          <div class="feature-card">
            <h4>スキン設定</h4>
            <p>
              <span class="command">skin:8</span> 形式で背景画像指定（6〜10）
            </p>
          </div>
          <div class="feature-card">
            <h4>フォント設定</h4>
            <p>
              <span class="command">font:1</span> 形式でフォント指定（0〜19）
            </p>
          </div>
          <div class="feature-card">
            <h4>名前設定</h4>
            <p><span class="command">name:配信者</span> 形式で表示名指定</p>
          </div>
        </div>

        <h3>設定例</h3>
        <div class="code-block">
          # 基本設定 voice:2 skin:8 font:1 name:配信者 # 音声のみ変更 voice:14 #
          複数設定同時変更 skin:10 font:5 name:ゲーム実況者
        </div>

        <div class="warning">
          <strong>注意:</strong>
          設定は各ユーザーIDごとに自動保存されます。一度設定すれば次回以降も適用されます。
        </div>
      </div>

      <!-- フォント一覧 -->
      <div class="section">
        <h2>🎨 フォント一覧</h2>

        <table class="settings-table">
          <thead>
            <tr>
              <th>番号</th>
              <th>フォント名</th>
              <th>特徴</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><span class="command">0</span></td>
              <td>DotGothic16</td>
              <td>デフォルト・ドット風</td>
            </tr>
            <tr>
              <td><span class="command">1</span></td>
              <td>Dela Gothic One</td>
              <td>太字・インパクト</td>
            </tr>
            <tr>
              <td><span class="command">2</span></td>
              <td>Hachi Maru Pop</td>
              <td>ポップ・丸文字</td>
            </tr>
            <tr>
              <td><span class="command">3</span></td>
              <td>Klee One</td>
              <td>手書き風・やわらか</td>
            </tr>
            <tr>
              <td><span class="command">4</span></td>
              <td>RocknRoll One</td>
              <td>ロック風・躍動感</td>
            </tr>
            <tr>
              <td><span class="command">5</span></td>
              <td>New Tegomin</td>
              <td>明朝・和風</td>
            </tr>
            <tr>
              <td><span class="command">6</span></td>
              <td>Train One</td>
              <td>電車・レトロ</td>
            </tr>
            <tr>
              <td><span class="command">7</span></td>
              <td>DotGothic16</td>
              <td>ドット・ゲーム風</td>
            </tr>
            <tr>
              <td><span class="command">8</span></td>
              <td>Reggae One</td>
              <td>レゲエ・ラフ</td>
            </tr>
            <tr>
              <td><span class="command">9</span></td>
              <td>Yuji Syuku</td>
              <td>筆文字・縦書き風</td>
            </tr>
            <tr>
              <td><span class="command">10-19</span></td>
              <td>その他</td>
              <td>Yuji Boku, Mochiy Pop等</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- 運営コメント -->
      <div class="section">
        <h2>👑 運営コメント機能</h2>

        <h3>対応コマンド</h3>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>ギフト通知</h4>
            <p><span class="command">/gift</span> ギフト受信時の自動通知</p>
          </div>
          <div class="feature-card">
            <h4>広告通知</h4>
            <p><span class="command">/nicoad</span> ニコニ広告時の通知</p>
          </div>
        </div>

        <h3>運営コメント設定</h3>
        <div class="code-block">
          # config/system_commands.json { "operator_voice_id": 102, //
          運営音声ID "sound_enabled": true, // 効果音有効 "templates": { "gift":
          "{name}さんが{point}ポイント{gift}をギフトしました" } }
        </div>

        <h3>表示仕様</h3>
        <table class="settings-table">
          <tbody>
            <tr>
              <td><strong>文字色</strong></td>
              <td>黄色（目立つ色）</td>
            </tr>
            <tr>
              <td><strong>スキン</strong></td>
              <td>10.png（運営専用）</td>
            </tr>
            <tr>
              <td><strong>フォント</strong></td>
              <td>1番（太字フォント）</td>
            </tr>
            <tr>
              <td><strong>プレフィックス</strong></td>
              <td>[運営] 自動付加</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- 音声システム -->
      <div class="section">
        <h2>🔊 音声読み上げシステム</h2>

        <h3>VOICEVOX連携</h3>
        <div class="success">
          <strong>必要条件:</strong> VOICEVOXエンジンが localhost:50021
          で起動している必要があります。
        </div>

        <h3>音声処理機能</h3>
        <div class="feature-grid">
          <div class="feature-card">
            <h4>テキスト変換</h4>
            <p>URLや長い数字を自動で読みやすく変換</p>
          </div>
          <div class="feature-card">
            <h4>単語置換</h4>
            <p>「www」→「ワラワラワラ」等の自動置換</p>
          </div>
          <div class="feature-card">
            <h4>キュー管理</h4>
            <p>複数コメントを順序通りに読み上げ</p>
          </div>
          <div class="feature-card">
            <h4>効果音合成</h4>
            <p>運営コメントには専用効果音付き</p>
          </div>
        </div>

        <h3>設定ファイル</h3>
        <div class="code-block">
          # config/text_conversion.json - 読み方変換 # config/replacements.json
          - 単語置換 # config/sound_config.yaml - 効果音設定
        </div>
      </div>

      <!-- トラブルシューティング -->
      <div class="section">
        <h2>🔧 トラブルシューティング</h2>

        <h3>よくある問題と解決法</h3>

        <div class="warning">
          <strong>問題:</strong> コメントが表示されない<br />
          <strong>解決:</strong>
          <span class="step-number">1</span
          >WebSocketサーバーが起動しているか確認<br />
          <span class="step-number">2</span>ブラウザで http://localhost:8080
          にアクセス<br />
          <span class="step-number">3</span>F12でコンソールエラーを確認
        </div>

        <div class="warning">
          <strong>問題:</strong> 音声が再生されない<br />
          <strong>解決:</strong>
          <span class="step-number">1</span
          >VOICEVOXエンジンが起動しているか確認<br />
          <span class="step-number">2</span>localhost:50021
          でVOICEVOXにアクセス可能か確認<br />
          <span class="step-number">3</span
          >音量設定とWindowsの音声出力設定を確認
        </div>

        <div class="warning">
          <strong>問題:</strong> スキンが表示されない<br />
          <strong>解決:</strong>
          <span class="step-number">1</span
          >skinフォルダに画像ファイルがあるか確認<br />
          <span class="step-number">2</span>http://localhost:8080/skin/6.png
          で直接アクセス<br />
          <span class="step-number">3</span
          >ブラウザキャッシュをクリア（Ctrl+F5）
        </div>

        <h3>ログの確認方法</h3>
        <div class="code-block">
          # ターミナルでのログ確認 [DISPLAY] ✅
          コメント表示用WebSocketに送信完了 # 正常 [VOICE] ✅
          VOICEVOXエンジン接続成功 # 正常 [ERROR] WebSocket接続エラー # 要対応
        </div>
      </div>

      <!-- 高度な設定 -->
      <div class="section">
        <h2>⚙️ 高度な設定</h2>

        <h3>カスタマイズ可能項目</h3>
        <table class="settings-table">
          <thead>
            <tr>
              <th>ファイル</th>
              <th>設定項目</th>
              <th>説明</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>gui/comment_display.html</code></td>
              <td>CSS、アニメーション</td>
              <td>表示スタイル、動作速度等</td>
            </tr>
            <tr>
              <td><code>config/system_commands.json</code></td>
              <td>運営コメント設定</td>
              <td>音声ID、テンプレート等</td>
            </tr>
            <tr>
              <td><code>config/text_conversion.json</code></td>
              <td>読み方変換ルール</td>
              <td>特殊文字の読み方等</td>
            </tr>
            <tr>
              <td><code>config/replacements.json</code></td>
              <td>単語置換ルール</td>
              <td>スラング等の置換</td>
            </tr>
          </tbody>
        </table>

        <h3>アニメーション調整</h3>
        <div class="code-block">
          # CSS での調整例 .slide-in { animation: slideIn 0.8s
          cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; } # パラメータ説明 #
          0.8s : アニメーション時間 # cubic-bezier :
          イージング関数（加減速カーブ）
        </div>
      </div>

      <!-- フッター -->
      <div class="footer">
        <p>🎯 <strong>ニコニコ生放送 コメント表示システム</strong></p>
        <p>高機能リアルタイム表示 & VOICEVOX音声読み上げ対応</p>
        <p style="margin-top: 15px; font-size: 0.9rem; color: #999">
          配信をより楽しく、より便利に。視聴者とのコミュニケーションを最大化するシステムです。
        </p>
      </div>
    </div>
  </body>
</html>

